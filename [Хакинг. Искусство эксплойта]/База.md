# BASE





## Базовые регистры (x86)

Если что они есть в эссенции

| Название                       | Суть                                                         |
| :----------------------------- | ------------------------------------------------------------ |
| **Временные переменные**       | *=====================================================================* |
| **eax**                        | аккумулятор                                                  |
| **ecx**                        | счетчик                                                      |
| **edx**                        | данных                                                       |
| **ebx**                        | база                                                         |
| **Регистры общего назначения** | *=====================================================================* |
| **esp**                        | указатель стека                                              |
| **ebp**                        | указатель базы                                               |
| **esi**                        | индекс источника                                             |
| **edi**                        | индекс приемника                                             |
| **Особые**                     | *=====================================================================* |
| **eip**                        | указатель инструкции                                         |
| **eflags** (pf sf if)          | флаги для сравнений и адресации                              |

Дальше больше

---

#### ESP / EBP

В общем эти парни, я повторюсь, являются УКАЗАТЕЛЯМИ.

А значит если есть команда **mov**, то примитивный **eax** будет записан в нее без прелюдий, а наши благородные **esp / ebp** потребуют особый подход в виде синтаксиса **"DWORD PTR [esp]"**







## Базовые команды

Первый вариант оформления

```assembly
mov ebp, esp #перемещает из esp в ebp
sub esp, 0x8 #вычитает из esp 8 и записывает результат в esp

cmp DWORD PTR [ebp-4], 0x9 #cmp сравнивает, DWORD - четыре байта
jle 8048393 <main+0x1f> #jump if less or equal to
jmp 80483a6 <main+0x32> #безусловный jump
```



Второй вариант оформления

| Команда                      | Смысл                                          |
| ---------------------------- | ---------------------------------------------- |
| `mov ebp, esp`               | перемещает из esp в ebp                        |
| `sub esp, 0x8`               | вычитает из esp 8 и записывает результат в esp |
| `cmp DWORD PTR [ebp-4], 0x9` | cmp сравнивает, DWORD - четыре байта           |
| `jle 8048393 <main+0x1f>`    | jump if less or equal to                       |
| `jmp 80483a6 <main+0x32>`    | безусловный jump                               |

Описание команд дальше

----

#### JLE [path to jump]

*Jump if less or equal to*

Как было сказано ранее данная команда выполняет прыжок в зависимости от результата **cmp**, ну или если какие-то там флаги поменять.

Под капотом перескок осуществляется буквальным изменением регистра **eip**. 

Если же **cmp** не сработал в сторону меньше или равно инструкция **jle** просто пропускается.

Используется в примитивных **if** и **for**.